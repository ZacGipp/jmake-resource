/*! All rights reserved, Pirates must investigate! 2019-04-11 */
function ajax(options){iDebug("*******fun:ajax*******--type:"+options.type+" , url="+options.url);var timeout=void 0===options.timeout?15e3:options.timeout<15e3?15e3:options.timeout;options={type:options.type||"GET",dataType:options.dataType,url:options.url||"",requestType:!1!==options.requestType,timeout:timeout,onComplete:options.onComplete||function(){},onError:options.onError||function(){},onSuccess:options.onSuccess||function(){},data:options.data||"",post:options.post||""};var xml=new XMLHttpRequest;xml.open(options.type,options.url,options.requestType);var timeoutLength=options.timeout,requestDone=!1;function httpSuccess(t){try{return!t.status&&"file:"==location.protocol||200<=t.status&&t.status<=300||304==t.status||0<=navigator.userAgent.indexOf("Safari")&&void 0===t.status}catch(t){}return!1}function httpData(r,type){var ct=r.getResponseHeader("content-type"),data=!type&&ct&&0<=ct.indexOf("xml");return data="xml"==type||data?r.responseXML:r.responseText,"script"==type&&eval.call(window,data),data=eval("("+data+")"),data}setTimeout(function(){requestDone=!0},timeoutLength),xml.onreadystatechange=function(){4!=xml.readyState||requestDone||(httpSuccess(xml)?options.onSuccess(httpData(xml,options.dataType)):options.onError(),options.onComplete(),xml=null)},"GET"==options.type?xml.send(null):(xml.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),xml.send(options.post))}function serialize(t){var e=[];if(t.constructor==Array)for(var o=0;o<t.length;o++)e.push(t[o].name+"="+encodeURIComponent(t[o].value));else for(var n in t)e.push(n+"="+encodeURIComponent(t[n]));return e.join("&")}"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=function(){return new ActiveXObject(0<=navigator.userAgent.indexOf("MSIE 5")?"Microsoft.XMLHTTP":"Msxml2.XMLHTTP")});